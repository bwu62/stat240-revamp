<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Intro to R/Rstudio | STAT 240 Revamp</title>
<meta name="author" content="Bi Cheng Wu, Bret Larget, Cameron Jones">
<meta name="description" content="This chapter will introduce to you the basics of Rstudio and help you develop a workflow for testing R code and producing beautiful R Markdown documents, which we will be using throughout the...">
<meta name="generator" content="bookdown 0.39.1 with bs4_book()">
<meta property="og:title" content="Chapter 2 Intro to R/Rstudio | STAT 240 Revamp">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bwu62.github.io/stat240-revamp/rstudio-intro.html">
<meta property="og:description" content="This chapter will introduce to you the basics of Rstudio and help you develop a workflow for testing R code and producing beautiful R Markdown documents, which we will be using throughout the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Intro to R/Rstudio | STAT 240 Revamp">
<meta name="twitter:description" content="This chapter will introduce to you the basics of Rstudio and help you develop a workflow for testing R code and producing beautiful R Markdown documents, which we will be using throughout the...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Roboto_Mono-0.4.9/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.7.0.9000/transition.js"></script><script src="libs/bs3compat-0.7.0.9000/tabs.js"></script><script src="libs/bs3compat-0.7.0.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-E0YDB40HWY"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-E0YDB40HWY');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">STAT 240 Revamp</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="setup.html"><span class="header-section-number">1</span> Setup</a></li>
<li><a class="active" href="rstudio-intro.html"><span class="header-section-number">2</span> Intro to R/Rstudio</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/bwu62/stat240-revamp">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="rstudio-intro" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Intro to R/Rstudio<a class="anchor" aria-label="anchor" href="#rstudio-intro"><i class="fas fa-link"></i></a>
</h1>
<p>This chapter will introduce to you the basics of Rstudio and help you develop a workflow for testing R code and producing beautiful R Markdown documents, which we will be using throughout the semester.</p>
<div id="rstudio-why" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Why Rstudio?<a class="anchor" aria-label="anchor" href="#rstudio-why"><i class="fas fa-link"></i></a>
</h2>
<p>Rstudio is a free and <a href="https://github.com/rstudio/rstudio">open-source</a> IDE (integrated development environment) that is designed to help facilitate development of R code. Of course you don’t need it (you can write R code using any text editor and execute it with a terminal) but using Rstudio gives you access to a host of modern conveniences, just to name a few:</p>
<ul>
<li>R code completion &amp; highlighting</li>
<li>easy access to interpreter console, plots, history, help, etc.</li>
<li>integration with scientific communication tools (e.g. R Markdown, Shiny, etc.)</li>
<li>robust debugging tools</li>
<li>easy package/environment management</li>
<li>custom project workflows (e.g. building websites, presentations, packages, etc.)</li>
<li>GitHub and SVN integration</li>
<li>and so much more…</li>
</ul>
<p>We will only learn a small fraction of what Rstudio has to offer in this course. As always, you are encouraged to explore more on your own.</p>
</div>
<div id="rstudio-interface" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Rstudio interface<a class="anchor" aria-label="anchor" href="#rstudio-interface"><i class="fas fa-link"></i></a>
</h2>
<p>This is the default interface setup of Rstudio. Of course you can customize it, but this is what you should see out-of-the-box:</p>
<div class="inline-figure"><img src="https://i.imgur.com/V9PAoE2.png"></div>
<p>Below is a brief description of the purpose of each tab. The ones we will be using most frequently in this course are highlighted in <strong>bold</strong>.</p>
<ol style="list-style-type: upper-alpha">
<li>In section A you will find the <strong>Console</strong>, Terminal, and Background Jobs tabs
<ul>
<li>
<strong>Console</strong>: This is arguably the most important tab in Rstudio. It provides direct access to the R interpreter, allowing you to run code and see outputs.</li>
</ul>
There are a few other useful tips for working in the console:
<ul>
<li>You can use the TAB key to autocomplete code as you type. This works both for built in functions, user-defined objects, or even file paths (more on this later). It is <em>highly recommended</em> to make use of autocomplete as much as possible because it can help prevent typo errors in your code.</li>
<li>You can also easily rerun previously executed commands by either using the keyboard UP and DOWN arrow keys to navigate through your history, or even search your history by using CTRL/CMD + R.</li>
<li>Terminal: This tab opens a terminal in your current working directory (see section <a href="#rstudio-wd"><strong>??</strong></a>). By default, this is a <a href="https://gitforwindows.org/">Git Bash</a> terminal on Windows and a <a href="https://medium.com/@luzhenna/getting-started-with-zsh-on-a-macbook-bd1c98c6f383">zsh</a> terminal on Macs, but this can be easily changed in the Options menu.</li>
<li>Background Jobs: Rstudio may sometimes run certain operations as background jobs here. Alternatively, you can also run background R scripts here if you desire.</li>
</ul>
</li>
<li>In section B we have the <strong>Environment</strong>, History, Connections, and Tutorial tabs
<ul>
<li>
<strong>Environment</strong>: This is probably the second most important tab in Rstudio. Any created variables, defined functions, imported datasets, or other objects used in your current session will appear here, along with some brief descriptions about them.
<ul>
<li>The <a href="https://i.imgur.com/llL6kyv.png">broomstick icon</a> in this tab can be used to clear the current session environment, removing all defined objects. This is basically equivalent to restarting Rstudio.</li>
<li>Next to the broomstick, there’s an icon that shows the memory usage of your current R session, as well as an “Import Dataset” option that can help you load datasets, although we will primarily try to write this code by hand for learning purposes.</li>
</ul>
</li>
<li>History: In this tab, you will find a history of previous commands from your current session, if you want to edit and rerun something. You can also search through this history, which will search through not just your current session but ALL previous commands anytime you opened Rstudio in the past.</li>
<li>Connections/Tutorial: You can start special data connections, or find some extra R tutorials here if you wish.</li>
</ul>
</li>
<li>In section C are the Files, <strong>Plots</strong>, Packages, <strong>Help</strong>, <strong>Viewer</strong>, and Presentation tabs.
<ul>
<li>Files: This tab gives you a small, integrated file explorer. You can navigate around your computer, create/delete/rename files, copy/move files, etc.</li>
<li>
<strong>Plots</strong>: Any plots/graphs you make will show up here (if you set the options right, otherwise they may show in a pop-up). There are a few other useful features to know:
<ul>
<li>In the top left corner of this tab, there are left/right arrows for navigating between previous and next plots (if you made multiple plots)</li>
<li>Next to that, there’s a “Zoom” button which opens the plot in a larger window.</li>
<li>Next, there’s an “Export” button which allows you to export the plot to image/pdf/clipboard. This opens a window with additional export options.</li>
<li>Next, there are buttons to remove the current plot, or clear all plots.</li>
</ul>
</li>
<li>Packages: Here you can view/install/update/load/unload packages. Note you can also install packages using the console, like we did in the previous section.</li>
<li>
<strong>Help</strong>: This is one of the other most useful tabs in Rstudio. Here, you can access the built in R help pages. This is one of the FIRST places you should visit for help with R functions/objects.
<ul>
<li>There are several ways to access the help pages. Suppose you want help with the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function. You can either run <code><a href="https://rdrr.io/r/utils/install.packages.html">?install.packages</a></code> or <code><a href="https://rdrr.io/r/utils/install.packages.html">help(install.packages)</a></code> in the console, or put your cursor on the function in your code and hit the F1 key.</li>
<li>The help page may contain these following sections, each of which presents different types of information:
<ol style="list-style-type: lower-roman">
<li>
<em>Description</em>, showing a brief summary of the purpose of the function</li>
<li>
<em>Usage</em>, listing available arguments (i.e. options). If an argument has an <code>=</code> sign and a value, this denotes the default value</li>
<li>
<em>Arguments</em>, where more details about the arguments can be found</li>
<li>
<em>Details</em>, where further details on the function can be found</li>
<li>
<em>Value</em>, which gives info on what the function returns as an output</li>
<li>Sometimes, other sections may appear here with more specialized info</li>
<li>At the end, you may also find some advanced notes, links to related functions, additional references, and example code demos.</li>
</ol>
</li>
</ul>
</li>
<li>
<strong>Viewer</strong>: This is where a preview of your Rmd document output will appear when knitting (which we learn very soon).
<ul>
<li>In the top corner, there are buttons letting you clear current or all viewer items, as well a button to open the viewer in a new window in your default web browser, which can also be useful sometimes for checking your work or printing/exporting.</li>
</ul>
</li>
<li>Presentation: This final tab is useful if you ever make presentations in Rstudio, e.g. using R’s <a href="https://bookdown.org/yihui/rmarkdown/beamer-presentation.html">Beamer</a> or <a href="https://github.com/rstudio/revealjs">reveal.js</a> integrations.</li>
</ul>
</li>
</ol>
<p>That concludes the tour of the basic Rstudio interface. There is also a file editor window (also known as the source panel/window) which we will discuss later in section <a href="#rstudio-rmarkdown"><strong>??</strong></a>, but for now, let’s learn to run some basic R commands!</p>
</div>
<div id="r-basics" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Basics of R<a class="anchor" aria-label="anchor" href="#r-basics"><i class="fas fa-link"></i></a>
</h2>
<p>In this section, we will give you a brief introduction to working with R. No prior coding experience is assumed. You are <strong>highly encouraged</strong> to copy and <strong>run the examples</strong> as you read. If you have time and capacity, you are also encouraged to peruse the linked help pages and extra reference links, but this is not mandatory.</p>
<div id="r-running" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Running R code<a class="anchor" aria-label="anchor" href="#r-running"><i class="fas fa-link"></i></a>
</h3>
<p>The main way to run R code is to type or copy into the console. Comments can be written after a hashtag <code>#</code> and will not be run. If there is output, it will be displayed either in the console directly if it’s text, or in the plot window if it’s visual. In these notes, output is shown in a separate box below, starting with <code>##</code> .</p>
<p>Try running these examples below in your console and observe the output:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this line is a comment and will not be run</span></span>
<span><span class="co"># use the copy button in the top corner to easily run this example ---&gt;</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"output is shown here"</span><span class="op">)</span> <span class="co"># you can also add comments here</span></span></code></pre></div>
<pre><code>## [1] "output is shown here"</code></pre>
<div class="note">
<p>The <code>[1]</code> that appears at the start of the output line just means this is the first output value. These bracketed numbers are not part of the actual output and should be ignored.</p>
</div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a VERY simple barplot</span></span>
<span><span class="co"># the c() function creates a vector of numbers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-intro-r-rstudio_files/figure-html/visual-output-1.svg" width="576"></div>
<div class="tip">
<p>All functions in these notes should automatically link to their online help pages (these are the same help pages inside Rstudio that we saw in the previous section). Try clicking on the <code><a href="https://rdrr.io/r/graphics/barplot.html">barplot()</a></code> function here or in the previous code block to see its help page.</p>
</div>
</div>
<div id="r-math" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> Basic math<a class="anchor" aria-label="anchor" href="#r-math"><i class="fas fa-link"></i></a>
</h3>
<p>One of the first things you should learn about R is how to use it as a calculator to do basic math. Operators like <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code>, and parentheses <code>( )</code> work just like how you’d expect. Note <strong>R respects standard order of operations</strong> (see <a href="https://rdrr.io/r/base/Syntax.html">this page on operation order</a> for more details).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="op">-</span><span class="fl">5</span> <span class="op">*</span> <span class="op">-</span><span class="fl">3</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">4</span><span class="op">)</span> <span class="op">/</span> <span class="fl">7</span> <span class="op">-</span> <span class="fl">6</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="note">
<p>R will sometimes output in scientific notation, especially if the number cannot be exactly numerically represented due to computing limitations. For example, if you compute <code>2^50</code> R will show the result as <code>1.1259e+15</code>, i.e. <span class="math inline">\(1.1259\times10^{15}\)</span>. You can also type in this scientific notation and R will understand it.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">^</span><span class="fl">50</span></span></code></pre></div>
<pre><code>## [1] 1.1259e+15</code></pre>
<p>Also note that due to the limitations of <a href="https://en.wikipedia.org/wiki/IEEE_754">how computers represent numbers</a>, R cannot distinguish between 2 numbers that differ by less than about <span class="math inline">\(2\times10^{-16}\)</span>, or 0.0000000000000002.</p>
</div>
<p>You can also perform integer division in R, i.e. dividing to get the quotient and remainder, by using <code>%/%</code> for the quotient and <code>%%</code> for the remainder. This allows you to check, for example, if a number is even or odd.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">13</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%/%</a></span> <span class="fl">2</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">13</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="note">
<p>Operators like <code>%/%</code> or <code>%%</code> may seem strange at first, but they work just like any other <a href="https://www.datacamp.com/tutorial/operators-in-r">binary operators</a> in R such as <code>+</code> or <code>^</code> . There are other examples of such operators like <code>%in%</code> and <code>%&gt;%</code> which we will learn about later.</p>
</div>
<p>Trigonometric functions <code><a href="https://rdrr.io/r/base/Trig.html">sin()</a></code>, <code><a href="https://rdrr.io/r/base/Trig.html">cos()</a></code>, <code><a href="https://rdrr.io/r/base/Trig.html">tan()</a></code>, (and their inverses <code><a href="https://rdrr.io/r/base/Trig.html">asin()</a></code>, <code><a href="https://rdrr.io/r/base/Trig.html">acos()</a></code>, <code><a href="https://rdrr.io/r/base/Trig.html">atan()</a></code> where the a– prefix means arc–), also work as you’d expect and use radian units. Note <code>pi</code> is conveniently predefined as <span class="math inline">\(\pi\)</span>. <a href="https://rdrr.io/r/base/Hyperbolic.html">Hyperbolic trig functions</a> also exist if you need them.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span></span></code></pre></div>
<pre><code>## [1] -3.141593</code></pre>
<p>Exponential and logarithm functions <code><a href="https://rdrr.io/r/base/Log.html">exp()</a></code> and <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code>, also work as you’d expect and default to the natural base <span class="math inline">\(e\)</span>. Note the log function has an optional <code>base</code> argument for using a different base. There are also special base 10 and 2 versions <code><a href="https://rdrr.io/r/base/Log.html">log10()</a></code> and <code><a href="https://rdrr.io/r/base/Log.html">log2()</a></code> .</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">3</span><span class="op">^</span><span class="fl">5</span>, base <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Additionally, <code><a href="https://rdrr.io/r/base/MathFun.html">abs()</a></code> computes the absolute value and <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> the square root (note by convention, ONLY the positive root is returned). Taking the square root of a negative number will return <code>NaN</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="op">-</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
<div id="r-specials" class="section level3" number="2.3.3">
<h3>
<span class="header-section-number">2.3.3</span> Special values<a class="anchor" aria-label="anchor" href="#r-specials"><i class="fas fa-link"></i></a>
</h3>
<p>We already mentioned <code>pi</code> is predefined. There are a few other important special values in R. <code>TRUE</code> and <code>FALSE</code>, along with their abbreviations <code>T</code> and <code>F</code> are also predefined. Note the capitalization; <strong>R is a case-sensitive language</strong> so <code>true</code>, <code>True</code>, and <code>t</code> are NOT the same as <code>TRUE</code> (the first two are not defined, while <code><a href="https://rdrr.io/r/base/t.html">t()</a></code> is the matrix transpose function).</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="cn">T</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">true</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object 'true' not found</code></pre>
<p>An important thing to note is that in R, doing any kind of <strong>math turns <code>TRUE</code> into 1 and <code>FALSE</code> into 0</strong>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="cn">TRUE</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Mathematical expressions may also return <code>NaN</code> for <strong>N</strong>ot <strong>a</strong> <strong>N</strong>umber, i.e. undefined; or <code>Inf</code> for infinite. Note R differentiates between positive infinity <code>Inf</code> and negative infinity <code>-Inf</code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">/</span> <span class="fl">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -Inf</code></pre>
<p>Additionally, <code>NA</code> is used to represent missing values, i.e. when data is not available. <strong>Note <code>NA</code> and <code>NaN</code> are NOT the same</strong>. We will learn later about how to handle <code>NA</code> missing values.</p>
</div>
<div id="assignment" class="section level3" number="2.3.4">
<h3>
<span class="header-section-number">2.3.4</span> Assignment<a class="anchor" aria-label="anchor" href="#assignment"><i class="fas fa-link"></i></a>
</h3>
<p>In R, variables are typically assigned using the <code>&lt;-</code> operator, which is just a less than <code>&lt;</code> and minus <code>-</code> put together. You can also use <code>=</code> but <code>&lt;-</code> is recommended for stylistic reasons (see <a href="https://colinfay.me/r-assignment/">this blog post</a> for more details). For this class, <strong>both are acceptable</strong> but we will prefer <code>&lt;-</code> in the notes. <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;A comprehensive R style guide written by Hadley Wickham can be found here: &lt;a href="https://style.tidyverse.org/" target="_blank"&gt;https://style.tidyverse.org/&lt;/a&gt;.&lt;/p&gt;'><sup>2</sup></a></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this is preferred</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this is equivalent and acceptable, but discouraged</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="tip">
<p>There are convenient keyboard shortcuts for the assignment <code>&lt;-</code> operator: ALT + – on Windows and Option (⌥) + – on Mac.</p>
</div>
<p>Generally, <code>=</code> is reserved for setting arguments inside functions, e.g. like the previous code chunk where we computed <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code> with a custom base by setting the <code>base</code> argument.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">3</span><span class="op">^</span><span class="fl">5</span>, base <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Variable names can be any combination of upper and lower-case letters, numbers, or period <code>.</code> and underscore <code>_</code> (which are both treated similar to letters), with one caveat: <strong>variables must begin with a letter or period</strong>, not a number or underscore. You may not use any other characters in variable names. <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;This is only a short summary. Technically, any set of ANY characters can be used to create a &lt;a href="https://adv-r.hadley.nz/names-values.html#non-syntactic"&gt;non-syntactic name&lt;/a&gt;, but this is beyond our current scope.&lt;/p&gt;'><sup>3</sup></a></p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># these variable names are ok,</span></span>
<span><span class="co"># also remember R is case sensitive!</span></span>
<span><span class="va">var1</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">Var1</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">.OtherVariable</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">another.variable_42</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span></span>
<span><span class="va">var1</span> <span class="op">+</span> <span class="va">Var1</span> <span class="op">+</span> <span class="va">.OtherVariable</span> <span class="op">+</span> <span class="va">another.variable_42</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># even these morse code looking variable names,</span></span>
<span><span class="co"># while not recommended, are technically ok:</span></span>
<span><span class="va">.</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">..</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">._</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">._..__</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span></span>
<span><span class="va">.</span> <span class="op">+</span> <span class="va">..</span> <span class="op">+</span> <span class="va">._</span> <span class="op">+</span> <span class="va">._..__</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="rstudio-intro.html#cb45-1" tabindex="-1"></a><span class="co"># these variable names will raise errors:</span></span>
<span id="cb45-2"><a href="rstudio-intro.html#cb45-2" tabindex="-1"></a><span class="co">#   1var, _var, bad-var,   e.g.:</span></span>
<span id="cb45-3"><a href="rstudio-intro.html#cb45-3" tabindex="-1"></a><span class="dv">1</span>var <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## Error: unexpected symbol in "1var"</code></pre>
<div class="note">
<p>Observe that if the results of an expression are saved to a variable, R will NOT print it by default. This is often confusing to first time R users, since it may seem like nothing happened. For example, running the following:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fl">3</span> <span class="op">*</span> <span class="fl">4</span> <span class="op">-</span> <span class="fl">5</span></span></code></pre></div>
<p>produces no visible output. This is normal behavior, since the output has been redirected into a variable. To inspect the result, you must explicitly call or <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> the object again:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
</div>
</div>
<div id="summary-functions" class="section level3" number="2.3.5">
<h3>
<span class="header-section-number">2.3.5</span> Summary functions<a class="anchor" aria-label="anchor" href="#summary-functions"><i class="fas fa-link"></i></a>
</h3>
<p>So far, we’ve only seen functions that run on individual values, but there are also functions in R that run on and summarize a dataset. These are often statistical in nature. We will only give a brief summary here of how to compute these in R. A more in-depth discussion of their meaning and applications will be saved for later in the course.</p>
<p>Suppose we gather a sample and observe the following values: 3, 6, 6, 2, 4, 1, 5 (don’t worry about what these mean, we’re just using it as a demo). We can create a vector using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function to store our data and save it:</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">data</span></span></code></pre></div>
<pre><code>## [1] 3 6 6 2 4 1 5</code></pre>
<p>The <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> and <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> functions work like you expect and produce the sum and length of the sample. You can use them to compute the <a href="https://www.mathsisfun.com/mean.html">mean</a> of your sample, which can also be done directly using <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 3.857143</code></pre>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 3.857143</code></pre>
<p>We can also find the <a href="https://www.mathsisfun.com/median.html">median</a> (i.e. middle number) with the <code><a href="https://rdrr.io/r/stats/median.html">median()</a></code> function. (Sadly, there’s no built-in <a href="https://www.mathsisfun.com/mode.html">mode</a> function in R, but this can be achieved with <a href="https://rdrr.io/cran/DescTools/man/Mode.html">other packages</a>.)</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>We can generalize from the median (which is the 50-th percentile) to compute <a href="https://www.mathsisfun.com/data/percentiles.html">any percentile</a> using the <code><a href="https://rdrr.io/r/stats/quantile.html">quantile()</a></code> function, e.g. suppose we want to compute the 30-th percentile:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">data</span>, <span class="fl">0.3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 30% 
## 2.8</code></pre>
<p>The <a href="https://www.mathsisfun.com/data/standard-deviation.html">standard deviation</a> is another important statistic (think of it as the distance of the average observation from the mean) and can be computed using <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code>. Note this is equivalent to the square root of the variance which can be found with <code><a href="https://rdrr.io/r/stats/cor.html">var()</a></code>.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1.9518</code></pre>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1.9518</code></pre>
<p>We can also find the <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> and <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code> of the sample (which together give us the <code><a href="https://rdrr.io/r/base/range.html">range()</a></code> of the dataset).</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Another important function for working with samples is the <code>%in%</code> operator, which lets us check if a value exists in the dataset.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 6 appears in the sample</span></span>
<span><span class="fl">6</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">data</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 7 does not appear in the sample</span></span>
<span><span class="fl">7</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">data</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>One final statistical function that is extremely common is <code><a href="https://rdrr.io/r/stats/cor.html">cor()</a></code> which computes the correlation between 2 vectors. E.g. suppose you had the following <span class="math inline">\((x,y)\)</span> points: (3.4,1), (5,4.6), (5.7,6.8), (6.5,5.3). You can compute the correlation between the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> points like so:</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6.5</span>, <span class="fl">3.4</span>, <span class="fl">5.7</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4.6</span>, <span class="fl">5.3</span>, <span class="fl">1</span>, <span class="fl">6.8</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 0.8690548</code></pre>
<p>There are other miscellaneous functions for working with vectors that are sometimes useful that we won’t cover in detail now, but you can explore them on your own, such as <code><a href="https://rdrr.io/r/base/prod.html">prod()</a></code> for computing the product of all numbers in a vector, <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> for sorting a vector, <code><a href="https://rdrr.io/r/base/rev.html">rev()</a></code> for reversing a vector, <code><a href="https://rdrr.io/r/base/unique.html">unique()</a></code> for getting the unique values in a vector, <code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code> for linearly shifting and scaling the data to have mean 0 and standard deviation 1, and <code><a href="https://rdrr.io/r/base/cumsum.html">cumsum()</a></code> and <code><a href="https://rdrr.io/r/base/cumsum.html">cumprod()</a></code> for the cumulative sum and product along a vector, and many many more…</p>
</div>
<div id="logical-comparison" class="section level3" number="2.3.6">
<h3>
<span class="header-section-number">2.3.6</span> Logical comparison<a class="anchor" aria-label="anchor" href="#logical-comparison"><i class="fas fa-link"></i></a>
</h3>
<p>Finally, let’s learn some basic logical comparisons. These will be crucial for data cleaning and filtering operations later on.</p>
<p>In R, equality comparison is done using the <code>==</code> operator. <strong>Note the double equal sign</strong>; single equal is for assignments and arguments. Inequality can be checked using <code>!=</code>.</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="va">x</span> <span class="op">==</span> <span class="fl">25</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if instead we ask "is x not equal to 25", we should get FALSE</span></span>
<span><span class="va">x</span> <span class="op">!=</span> <span class="fl">25</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Note <code>!</code> used individually is the NOT operator, i.e. it turns <code>TRUE</code> into <code>FALSE</code> and vice versa.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">!</span><span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this is equivalent to x != 25</span></span>
<span><span class="op">!</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="fl">25</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Inequalities are done using <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, for less than (or equal to) and greater than (or equal to).</p>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">30</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">25</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Logical statements can be chained together using the <code>&amp;</code> AND operator as well as the <code>|</code> OR operator (this vertical bar character is typed on most keyboards using SHIFT + <code>\</code>).</p>
<p><code>&amp;</code> will only return true if the expressions on both sides are both true; <code>|</code> will return true if at least one of the expressions on both sides is true. Note that <code>&amp;</code> appears higher on R’s <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Syntax.html">order of operations</a> than <code>|</code>.</p>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">20</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">30</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">20</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="va">x</span> <span class="op">!=</span> <span class="fl">25</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>You can of course chain these together with other R commands to compare more complicated expressions. The sky is the limit!</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check if x² is even OR if mean of data + 2 * sd is greater than the max</span></span>
<span><span class="co"># note order of operations means we don't need extra parentheses</span></span>
<span><span class="co"># of course, you can add extra parentheses for readability if you wish!</span></span>
<span><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="packages" class="section level3" number="2.3.7">
<h3>
<span class="header-section-number">2.3.7</span> Packages<a class="anchor" aria-label="anchor" href="#packages"><i class="fas fa-link"></i></a>
</h3>
<p>As a last topic, let’s briefly discuss packages. One of the best features of R is the ability for anyone to easily write and distribute packages on <a href="https://cran.r-project.org/">CRAN</a> (<strong>C</strong>omprehensive <strong>R</strong> <strong>A</strong>rchive <strong>N</strong>etwork). Currently, there are 20966 packages available on CRAN. There are also a further 2300 packages on the bioinformatics-specific package archive <a href="https://www.bioconductor.org/">Bioconductor</a>, as well as countless more on <a href="https://github.com/topics/r-package">GitHub</a>.</p>
<p>In this course, we will primarily make use of the <a href="https://www.tidyverse.org/">Tidyverse</a> suite of packages, which contains several important packages for data science: <code>readr</code> for reading in data, <code>ggplot2</code> for plotting data, <code>dplyr</code> and <code>tidyr</code> for cleaning data, and <code>lubridate</code> and <code>stringr</code> for working with dates and strings. We will learn each of these as the course progresses.</p>
<p>The most important thing you need to remember about packages is this:</p>
<blockquote>
<p><strong><em>install once; load daily</em></strong></p>
</blockquote>
<p>I.e. you only need to install a package <em>once</em> to your computer, but you need to load it <em>every time</em> you reopen Rstudio and want to use it (unless you’re one of those people that never closes any programs). Of course if you want to setup R/Rstudio on a new computer, you need to install it again there as well.</p>
<div id="install-a-package" class="section level4" number="2.3.7.1">
<h4>
<span class="header-section-number">2.3.7.1</span> Install a package<a class="anchor" aria-label="anchor" href="#install-a-package"><i class="fas fa-link"></i></a>
</h4>
<p>Unless you’re doing extremely niche work, generally any packages you want to use will be on CRAN and can be easily installed one at a time by running the following.</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># you should have already installed tidyverse from last chapter</span></span>
<span><span class="co"># note the package name MUST be in quotes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span></code></pre></div>
<p>It’s important to check the output messages to see if the install was successful, and if not, to find important “Error:…” keywords to use for troubleshooting. Sometimes R will ask you different things during install:</p>
<ul>
<li>If R asks you to use a “personal library”, say yes. This just means it can’t store the package files in your system folder due to system permissions, so it will store it somewhere else (typically in your user directory).</li>
<li>If R asks you to install “from source”, try no first; if that fails, retry with yes. This just means if you want R to prioritize using precompiled executable files when installing, which is generally much faster.</li>
<li>If R asks you to update existing packages before installing a new package, this is entirely up to you. I like to update my packages regularly, but there’s usually no harm if you don’t want update immediately.
<ul>
<li>If you try to update packages that are currently loaded, R may ask you to first “restart R”, which is usually a good idea.</li>
</ul>
</li>
</ul>
</div>
<div id="loading-a-package" class="section level4" number="2.3.7.2">
<h4>
<span class="header-section-number">2.3.7.2</span> Loading a package<a class="anchor" aria-label="anchor" href="#loading-a-package"><i class="fas fa-link"></i></a>
</h4>
<p>You can load a package by using either <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> or <code><a href="https://rdrr.io/r/base/library.html">require()</a></code>, which are basically the same. <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;The only difference is &lt;code&gt;require()&lt;/code&gt; can be used to check if a package exists and will return &lt;code&gt;FALSE&lt;/code&gt; if it doesn’t, whereas &lt;code&gt;library()&lt;/code&gt; will just error out, see &lt;a href="https://www.geeksforgeeks.org/the-difference-between-require-and-library-in-r/" target="_blank"&gt;https://www.geeksforgeeks.org/the-difference-between-require-and-library-in-r/&lt;/a&gt; for more details.&lt;/p&gt;'><sup>4</sup></a></p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code>## ── Conflicts ────────────────────── tidyverse_conflicts() ──
## ✖ tidyr::extract()        masks magrittr::extract()
## ✖ dplyr::filter()         masks stats::filter()
## ✖ rvest::guess_encoding() masks readr::guess_encoding()
## ✖ dplyr::lag()            masks stats::lag()
## ✖ purrr::set_names()      masks magrittr::set_names()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<p>Upon loading, many packages will print various diagnostic messages to the console. These are generally completely ignorable. Sometimes these will warn about “Conflicts”, this is standard and just means it has overridden other default functions. E.g. You can see above the <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function from the package <code>dplyr</code> has overwritten the pre-loaded <a href="https://rdrr.io/r/stats/filter.html"><code class="sourceCode r"><span class="fu">filter</span>()</code></a> function from the <code>stats</code> package.</p>
<div class="tip">
<p>You may have already guessed from the message in the output above, but you can also access a function from another package without loading the entire package by using the syntax <code>package::function()</code>. This is often done to either avoid name conflicts or to clarify to the reader which functions come from which packages.</p>
</div>
</div>
</div>
<div id="r-cheat-sheets" class="section level3" number="2.3.8">
<h3>
<span class="header-section-number">2.3.8</span> R cheat sheets<a class="anchor" aria-label="anchor" href="#r-cheat-sheets"><i class="fas fa-link"></i></a>
</h3>
<p>Those are probably the most important R commands you need to know for now. Below I have curated a short selection of R “cheat sheets” for your reference should you need it, in rough order of how useful I think it will be for a first time R learner.</p>
<ul>
<li>Matt Baggott’s <a href="https://cran.r-project.org/doc/contrib/Baggott-refcard-v2.pdf">R Reference Card v2.0</a> is a nice complete one-stop-shop for all of R’s built-in functions.</li>
<li>IQSS’s <a href="https://iqss.github.io/dss-workshops/R/Rintro/base-r-cheat-sheet.pdf">Base R Cheat Sheet</a> and Alexey Shipunov’s <a href="https://herba.msu.ru/shipunov/school/biol_240/en/supp/refcard/rrefc_en.pdf">One Page R Reference Card</a> are both slightly shorter and more curated, but offer a nice, tighter set of the most critical R commands, along with useful examples of their syntax.</li>
<li>For a slightly longer but more complete reference manual on R, especially with more details of how R works and different object types and data structures, Emmanuel Paradis’s <a href="https://cran.r-project.org/doc/contrib/Paradis-rdebuts_en.pdf">R for Beginners</a> may be helpful.</li>
</ul>
<!--https://cran.r-project.org/doc/contrib/Short-refcard.pdf--><!--https://www.maths.usyd.edu.au/u/jchan/Rcommands.pdf-->
</div>
</div>
<div id="r-markdown" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> R Markdown<a class="anchor" aria-label="anchor" href="#r-markdown"><i class="fas fa-link"></i></a>
</h2>
<p>In the final section of this chapter, we will introduce you to R Markdown, which is a document format that allows you to seamlessly organize and integrate text and R code/output in an easily readable and editable way. It supports many <a href="https://rmarkdown.rstudio.com/lesson-9.html">output file types</a> including HTML, PDF, and DOCX, and can be used to write reports, articles, presentations, ebooks, and even websites (in fact, this entire website is written in R Markdown, and the GitHub repo even maintained using Rstudio; you can view the source code of any page using the “View source” button in the right sidebar).</p>
<p>Let’s start with an example! Below is a basic R Markdown demo file called <a href="demo.Rmd"><code>demo.Rmd</code></a>, which produces <a href="demo.html" target="_blank"><code>demo.html</code></a> as output (feel free to download the demo to test it out). We will use this example below to learn how to work with Rmd files.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode md wrapCode"><code class="sourceCode markdown"><span id="cb95-1"><a href="rstudio-intro.html#cb95-1" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb95-2"><a href="rstudio-intro.html#cb95-2" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Demo Rmd file"</span></span>
<span id="cb95-3"><a href="rstudio-intro.html#cb95-3" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Jane Doe"</span></span>
<span id="cb95-4"><a href="rstudio-intro.html#cb95-4" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2024-06-20"</span></span>
<span id="cb95-5"><a href="rstudio-intro.html#cb95-5" tabindex="-1"></a><span class="an">output:</span><span class="co"> html_document</span></span>
<span id="cb95-6"><a href="rstudio-intro.html#cb95-6" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb95-7"><a href="rstudio-intro.html#cb95-7" tabindex="-1"></a></span>
<span id="cb95-8"><a href="rstudio-intro.html#cb95-8" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb95-9"><a href="rstudio-intro.html#cb95-9" tabindex="-1"></a><span class="in"># this is a standard "setup" chunk usually found at the top of Rmd files,</span></span>
<span id="cb95-10"><a href="rstudio-intro.html#cb95-10" tabindex="-1"></a><span class="in"># often used for setting options, loading files, and importing libraries</span></span>
<span id="cb95-11"><a href="rstudio-intro.html#cb95-11" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(echo = TRUE)</span></span>
<span id="cb95-12"><a href="rstudio-intro.html#cb95-12" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb95-13"><a href="rstudio-intro.html#cb95-13" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-14"><a href="rstudio-intro.html#cb95-14" tabindex="-1"></a></span>
<span id="cb95-15"><a href="rstudio-intro.html#cb95-15" tabindex="-1"></a><span class="fu"># Section 1</span></span>
<span id="cb95-16"><a href="rstudio-intro.html#cb95-16" tabindex="-1"></a></span>
<span id="cb95-17"><a href="rstudio-intro.html#cb95-17" tabindex="-1"></a><span class="fu">## Subsection A</span></span>
<span id="cb95-18"><a href="rstudio-intro.html#cb95-18" tabindex="-1"></a></span>
<span id="cb95-19"><a href="rstudio-intro.html#cb95-19" tabindex="-1"></a>Here's some ordinary text. You can use Markdown syntax to add more features, e.g. here's a <span class="co">[</span><span class="ot">link</span><span class="co">](https://markdownguide.org/cheat-sheet)</span>, here's some **bold text**, and here's some <span class="in">`inline code`</span>.</span>
<span id="cb95-20"><a href="rstudio-intro.html#cb95-20" tabindex="-1"></a></span>
<span id="cb95-21"><a href="rstudio-intro.html#cb95-21" tabindex="-1"></a><span class="ss"> 1. </span>Lists are also east to add!</span>
<span id="cb95-22"><a href="rstudio-intro.html#cb95-22" tabindex="-1"></a><span class="ss"> 2. </span>Here's a second item.</span>
<span id="cb95-23"><a href="rstudio-intro.html#cb95-23" tabindex="-1"></a><span class="ss"> 3. </span>You can even add sublists:</span>
<span id="cb95-24"><a href="rstudio-intro.html#cb95-24" tabindex="-1"></a><span class="ss">    - </span>Here's a sublist with bullets.</span>
<span id="cb95-25"><a href="rstudio-intro.html#cb95-25" tabindex="-1"></a><span class="ss">    - </span>Another bullet?</span>
<span id="cb95-26"><a href="rstudio-intro.html#cb95-26" tabindex="-1"></a></span>
<span id="cb95-27"><a href="rstudio-intro.html#cb95-27" tabindex="-1"></a><span class="fu">## Subsection B</span></span>
<span id="cb95-28"><a href="rstudio-intro.html#cb95-28" tabindex="-1"></a></span>
<span id="cb95-29"><a href="rstudio-intro.html#cb95-29" tabindex="-1"></a>You can easily incorporate R code into an Rmd file, with outputs and plots that auto-update. Here's an example code chunk named "chunk1".</span>
<span id="cb95-30"><a href="rstudio-intro.html#cb95-30" tabindex="-1"></a></span>
<span id="cb95-31"><a href="rstudio-intro.html#cb95-31" tabindex="-1"></a><span class="in">```{r chunk1, fig.align="center"}</span></span>
<span id="cb95-32"><a href="rstudio-intro.html#cb95-32" tabindex="-1"></a><span class="in">data &lt;- c(3, 6, 6, 2, 4, 1, 5)</span></span>
<span id="cb95-33"><a href="rstudio-intro.html#cb95-33" tabindex="-1"></a><span class="in">mean(data)</span></span>
<span id="cb95-34"><a href="rstudio-intro.html#cb95-34" tabindex="-1"></a><span class="in">hist(data)</span></span>
<span id="cb95-35"><a href="rstudio-intro.html#cb95-35" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-36"><a href="rstudio-intro.html#cb95-36" tabindex="-1"></a></span>
<span id="cb95-37"><a href="rstudio-intro.html#cb95-37" tabindex="-1"></a>You can even refer to R objects inside text, e.g. the sample mean and standard deviation are <span class="in">`r mean(data)`</span> and <span class="in">`r sd(data)`</span>.</span>
<span id="cb95-38"><a href="rstudio-intro.html#cb95-38" tabindex="-1"></a></span>
<span id="cb95-39"><a href="rstudio-intro.html#cb95-39" tabindex="-1"></a><span class="fu"># Section 2</span></span>
<span id="cb95-40"><a href="rstudio-intro.html#cb95-40" tabindex="-1"></a></span>
<span id="cb95-41"><a href="rstudio-intro.html#cb95-41" tabindex="-1"></a>Here's a second section.</span>
<span id="cb95-42"><a href="rstudio-intro.html#cb95-42" tabindex="-1"></a></span>
<span id="cb95-43"><a href="rstudio-intro.html#cb95-43" tabindex="-1"></a><span class="co">&lt;!-- comments in an Rmd file must use HTML-style syntax --&gt;</span></span></code></pre></div>
<!--

- add notes about common console issues
  - `>` prompt character
  - `+` prompt when line not ended
  - white space and splitting lines
  - saving doesn't return
  - practice using tab
  - practice using console history

* remember:
  - set %in% operations
  - floor/ceil/round
  - c, :, seq


## R Markdown {#rstudio-rmarkdown}

- things to cover
  - rmd document overview
    - knit and view
    - yaml
    - code chunks
      - setup chunk
      - name
      - options
    - markdown

  - testing code interactively
  - libraries
  - troubleshooting tips


## Extra: if/else, for/while



::: {.tip}
You only need to install a package to your computer once, but you need to load it every time you want to use it in an R session.

To install a package, either use the "Install" button in the Packages tab, or copy the following into the console, replacing "packageName" with the name of the package you want to install.


``` r
install.packages("packageName")
```
:::



### Working directory {#rstudio-wd}




<details><summary>Exercise solutions</summary>


``` r
head(mtcars)
```

```
##                    mpg cyl disp  hp drat    wt  qsec vs am
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0
##                   gear carb
## Mazda RX4            4    4
## Mazda RX4 Wag        4    4
## Datsun 710           4    1
## Hornet 4 Drive       3    1
## Hornet Sportabout    3    2
## Valiant              3    1
```

</details> 

-->

</div>
</div>










<script src="https://cdn.jsdelivr.net/npm/@xiee/utils/js/external-link.min.js" defer></script><script>
  $(function(){
    $(".note").addClass("alert alert-warning");
  });
  $(function(){
    $(".tip").addClass("alert alert-success");
  });
</script><div class="chapter-nav">
<div class="prev"><a href="setup.html"><span class="header-section-number">1</span> Setup</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#rstudio-intro"><span class="header-section-number">2</span> Intro to R/Rstudio</a></li>
<li><a class="nav-link" href="#rstudio-why"><span class="header-section-number">2.1</span> Why Rstudio?</a></li>
<li><a class="nav-link" href="#rstudio-interface"><span class="header-section-number">2.2</span> Rstudio interface</a></li>
<li>
<a class="nav-link" href="#r-basics"><span class="header-section-number">2.3</span> Basics of R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-running"><span class="header-section-number">2.3.1</span> Running R code</a></li>
<li><a class="nav-link" href="#r-math"><span class="header-section-number">2.3.2</span> Basic math</a></li>
<li><a class="nav-link" href="#r-specials"><span class="header-section-number">2.3.3</span> Special values</a></li>
<li><a class="nav-link" href="#assignment"><span class="header-section-number">2.3.4</span> Assignment</a></li>
<li><a class="nav-link" href="#summary-functions"><span class="header-section-number">2.3.5</span> Summary functions</a></li>
<li><a class="nav-link" href="#logical-comparison"><span class="header-section-number">2.3.6</span> Logical comparison</a></li>
<li><a class="nav-link" href="#packages"><span class="header-section-number">2.3.7</span> Packages</a></li>
<li><a class="nav-link" href="#r-cheat-sheets"><span class="header-section-number">2.3.8</span> R cheat sheets</a></li>
</ul>
</li>
<li><a class="nav-link" href="#r-markdown"><span class="header-section-number">2.4</span> R Markdown</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/bwu62/stat240-revamp/blob/master/02-intro-r-rstudio.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/bwu62/stat240-revamp/edit/master/02-intro-r-rstudio.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>STAT 240 Revamp</strong>" was written by Bi Cheng Wu, Bret Larget, Cameron Jones. It was last built on 2024-06-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
